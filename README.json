{
  "name": "WorkMesh",
  "tagline": "Docs-first, MCP-ready project/task orchestration in plain text next to your code.",
  "artifacts": {
    "cli": "workmesh",
    "core": "workmesh-core",
    "mcp": "workmesh-mcp"
  },
  "codex_first_workflow": {
    "recommended": true,
    "steps": [
      "cd into any repo directory",
      "run codex (or codex resume)",
      "say: Bootstrap WorkMesh in this repo. Use MCP if available, otherwise CLI.",
      "say: Use WorkMesh to document this feature end to end: tasks, PRD updates, and decisions."
    ]
  },
  "bootstrap_behavior": {
    "no_workmesh_data": "initialize docs/tasks and seed context",
    "modern_workmesh_layout": "run health checks, show context, and suggest next work",
    "legacy_layout": "run migrate audit/plan/apply and continue on modern layout",
    "long_lived_clone_workflow": "keep work moving now and recommend migration to canonical repo + worktrees"
  },
  "feature_prompt": "Use WorkMesh for this feature. Create/update PRD, break down tasks with acceptance criteria and definition of done, keep context current, and track decisions in Truth Ledger.",
  "cli_fallback": {
    "bootstrap_command": "workmesh --root . bootstrap --project-id <project-id> --feature \"<feature-name>\" --json",
    "behavior": "detect repo state (new/modern/legacy), initialize or migrate as needed, seed missing context, and suggest next tasks"
  },
  "install": {
    "verify": [
      "workmesh --version",
      "workmesh-mcp --version"
    ],
    "from_source": [
      "git clone git@github.com:luislobo/workmesh.git",
      "cd workmesh",
      "cargo build -p workmesh",
      "cargo build -p workmesh-mcp"
    ]
  },
  "mcp_setup": {
    "transport": "stdio",
    "codex_example": {
      "command": "/usr/local/bin/workmesh-mcp",
      "args": []
    }
  },
  "defaults": {
    "global_config": "~/.workmesh/config.toml (or $WORKMESH_HOME/config.toml)",
    "project_config": [
      ".workmesh.toml"
    ],
    "keys": [
      "worktrees_default = true|false",
      "auto_session_default = true|false"
    ],
    "archive_default_status_filter": [
      "Done",
      "Cancelled",
      "Canceled",
      "Won't Do",
      "Wont Do"
    ],
    "archive_status_override": "pass --status one or more times to archive any specific state, including non-terminal states",
    "auto_session": {
      "default": "ON in interactive non-CI terminals, OFF in CI/non-interactive contexts",
      "override_on": [
        "--auto-session-save",
        "WORKMESH_AUTO_SESSION=1"
      ],
      "override_off": [
        "--no-auto-session-save",
        "WORKMESH_AUTO_SESSION=0"
      ]
    }
  },
  "docs": {
    "onboarding": "docs/getting-started.md",
    "commands": "docs/reference/commands.md",
    "index": "docs/README.md"
  },
  "legacy_note": {
    "automatic": "bootstrap already handles legacy backlog/focus structures",
    "commands": [
      "workmesh --root . migrate audit",
      "workmesh --root . migrate plan",
      "workmesh --root . migrate apply --apply"
    ]
  }
}
