{
  "name": "WorkMesh",
  "tagline": "Docs-first, MCP-ready project/task orchestration in plain text next to your code.",
  "artifacts": {
    "cli": "workmesh",
    "core": "workmesh-core",
    "mcp": "workmesh-mcp"
  },
  "start_here": {
    "progressive_dx": "docs/getting-started.md",
    "commands": "docs/reference/commands.md",
    "docs_index": "docs/README.md"
  },
  "install": {
    "recommended": "prebuilt release binaries",
    "release_version_example": "vX.Y.Z",
    "verify": [
      "workmesh --version",
      "workmesh-mcp --version"
    ],
    "from_source": [
      "git clone git@github.com:luislobo/workmesh.git",
      "cd workmesh",
      "cargo build -p workmesh-cli",
      "cargo build -p workmesh-mcp"
    ]
  },
  "mcp_setup": {
    "transport": "stdio",
    "codex_example": {
      "command": "/usr/local/bin/workmesh-mcp",
      "args": []
    },
    "verify_tools": [
      "version",
      "readme",
      "doctor"
    ]
  },
  "progressive_dx": {
    "stages": [
      {
        "id": 1,
        "name": "Start",
        "goal": "single repo flow",
        "loop": [
          "quickstart",
          "context set",
          "next",
          "claim/work/done"
        ]
      },
      {
        "id": 2,
        "name": "Parallelize",
        "goal": "one stream per worktree",
        "loop": [
          "worktree create",
          "worktree attach",
          "context set",
          "next",
          "claim"
        ]
      },
      {
        "id": 3,
        "name": "Recover",
        "goal": "reboot/session continuity",
        "loop": [
          "session resume",
          "context show",
          "truth list --state accepted",
          "next"
        ]
      },
      {
        "id": 4,
        "name": "Consolidate",
        "goal": "convert sibling clones to canonical repo + worktrees",
        "details": "procedural runbook in docs/getting-started.md"
      }
    ]
  },
  "core_model": {
    "context": "repo-local intent/scope pointer at workmesh/context.json",
    "truth": "durable validated decisions in workmesh/truth/",
    "sessions": "cross-repo continuity in WORKMESH_HOME (default ~/.workmesh)",
    "worktrees": "runtime isolation for parallel streams"
  },
  "defaults": {
    "global_config": "~/.workmesh/config.toml (or $WORKMESH_HOME/config.toml)",
    "project_config": [
      ".workmesh.toml",
      ".workmeshrc"
    ],
    "keys": [
      "worktrees_default = true|false",
      "auto_session_default = true|false"
    ],
    "precedence": [
      "CLI flags",
      "environment variables",
      "project config",
      "global config",
      "built-in defaults"
    ],
    "auto_session": {
      "built_in_default": "enabled in interactive non-CI terminals; disabled in CI/non-interactive",
      "enable": [
        "--auto-session-save",
        "WORKMESH_AUTO_SESSION=1"
      ],
      "disable": [
        "--no-auto-session-save",
        "WORKMESH_AUTO_SESSION=0"
      ]
    }
  },
  "command_surface": {
    "project_lifecycle": [
      "quickstart",
      "project-init",
      "doctor",
      "validate",
      "archive"
    ],
    "task_flow": [
      "list",
      "show",
      "next",
      "ready",
      "claim",
      "set-status",
      "note",
      "release"
    ],
    "context_truth": [
      "context set|show|clear",
      "truth propose|accept|reject|supersede|show|list|validate"
    ],
    "worktrees_sessions": [
      "worktree list|create|attach|detach|doctor",
      "session save|list|show|resume"
    ],
    "index_reporting": [
      "index-rebuild|index-refresh|index-verify",
      "board",
      "blockers",
      "stats",
      "graph-export",
      "issues-export"
    ],
    "reference": "docs/reference/commands.md"
  },
  "legacy_note": {
    "scope": "minimal",
    "use_when": "repo still has legacy backlog/ or focus.json",
    "commands": [
      "workmesh --root . migrate audit",
      "workmesh --root . migrate plan",
      "workmesh --root . migrate apply --apply"
    ]
  },
  "repo_layout": [
    "crates/ - rust crates",
    "docs/ - product and usage docs",
    "skills/ - embedded WorkMesh skills",
    "workmesh/ - task/state files"
  ],
  "roadmap": [
    "Clone-to-worktree onboarding helpers (worktree onboard ...)",
    "Stronger multi-worktree recovery scripts",
    "Diagnostics for stale stream/session bindings"
  ]
}
